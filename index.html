<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Preact Widget</title>
</head>

<body>
  <!-- Waiver Form -->

  <div id="waiver-form"
    style="background-color: #f9f9f9; padding: 30px; border-radius: 8px; border: 1px solid #ddd; max-width: 700px; margin: 20px auto; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); font-family: Arial, sans-serif;">
    <div>
      <h1 style="text-align: center; color:black !important; margin: 20px auto;">Mutts in the 6ix Waiver</h1>
      <p><strong>RELEASE OF LIABILITY, WAIVER OF CLAIMS, ASSUMPTION OF RISKS, AND INDEMNITY AGREEMENT</strong></p>
      <p>By agreeing to the terms of this document, you will waive or give up certain legal rights, including the right
        to sue for negligence or claim compensation following an accident or incident.</p>

      <p><strong>TO:</strong> Mutts in the 6ix Ltd. and its directors, employees, vendors, representatives, volunteers,
        independent contractors, partnering venues, and assigns (hereinafter collectively referred to as the
        "Releasees"). The current and any future Mutts in the 6ix events are herein referred to as "the event."</p>

      <h2 style="color: black;">SECTION 1: ACKNOWLEDGEMENT OF RISKS</h2>
      <p>I hereby waive any and all claims that I have or may have in the future against the <strong>Releasees</strong>
        and release them from any and all liability for any loss, damage, expense, or injury, including claims for
        contribution and indemnity or medical bills to my dog or myself arising from my attendance and participation in
        the event due to any cause whatsoever, including negligence and any duty of care owed to me by the
        <strong>Releasees</strong>.
      </p>

      <p>I understand that negligence includes failure on the part of the <strong>Releasees</strong> to take reasonable
        steps to safeguard or protect me from, or to warn me of, the risks, dangers, and hazards referred to below.</p>

      <p>I am aware that off-leash dog events involve inherent risks, including but not limited to:</p>
      <ul style="color:black;">
        <li>Pet-related injuries (e.g., bites, scratches), allergies, or other incidents</li>
        <li>The risk of my dog ingesting harmful objects or substances</li>
        <li>Exposure to diseases or viruses</li>
        <li>Slipping or falling</li>
      </ul>

      <p>These risks could result in personal injury to myself, my dog, or others. I acknowledge that any pet present
        may behave unpredictably, regardless of the owner’s intent or training. I voluntarily assume all risks and waive
        any claims against the <strong>Releasees</strong> for injuries or damages that may occur during my visit,
        including those resulting from the negligence or breach of statutory duty by the <strong>Releasees</strong>.</p>

      <h2 style="color: black;">SECTION 2: PERSONAL RESPONSIBILITY</h2>
      <p>I agree to be solely responsible for my dog during my visit to the event. I will ensure my dog adheres to the
        event's rules and guidelines, and I will exercise reasonable caution to prevent harm or disturbance to others,
        their pets, or their property.</p>

      <p>I freely accept and fully assume all risks, including the possibility of personal injury to myself or my dog,
        as a result of attending the event. I acknowledge that I am solely responsible for my dog’s behavior throughout
        the entire event.</p>

      <p>If my dog causes harm or damage, I agree to be responsible for any resulting financial consequences.</p>

      <h2 style="color: black;">SECTION 3: PHOTO/VIDEO RELEASE FOR MARKETING PURPOSES</h2>
      <p>I hereby grant permission to Mutts in the 6ix and the <strong>Releasees</strong> to use photographs, video
        footage, and audio recordings of me and/or my dog taken during the event for marketing, promotional, and other
        business purposes. These materials may be used in, but are not limited to, social media posts, website content,
        advertisements, and print materials.</p>

      <p>I understand that:</p>
      <ul style="color:black;">
        <li>I will not receive any compensation, monetary or otherwise, for the use of these images or recordings.</li>
        <li>I waive any right to inspect or approve the final product.</li>
        <li>I release the <strong>Releasees</strong> from any claims or liabilities that may arise in connection with
          the use of these photographs, video, or audio materials, including any claims of defamation, invasion of
          privacy, or infringement of publicity rights.</li>
      </ul>

      <h2 style="color: black;">SECTION 4: RELEASE OF LIABILITY, WAIVER OF CLAIMS, AND INDEMNITY AGREEMENT</h2>
      <p>I understand that I am solely responsible for my pet’s behavior and any damage, injuries, or harm that my pet
        may cause to others, their pets, or their property.</p>

      <p><strong>Release and Indemnification:</strong> In consideration for being allowed to attend the event, I agree
        to release, indemnify, and hold harmless the <strong>Releasees</strong> from any and all liability, including
        claims for contribution or indemnity, for any harm to my dog or personal injury to myself or my dog.</p>

      <p><strong>Personal Belongings:</strong> I understand the <strong>Releasees</strong> are not liable for any loss,
        theft, or damage to my personal belongings, or any other items I bring to the event.</p>

      <p><strong>Agreement to Follow Rules:</strong> I agree to abide by all rules, guidelines, and instructions given
        by Mutts in the 6ix or its employees during the event. I understand that failure to comply with these rules may
        result in removal from the event without a refund or having my dog leashed.</p>

      <h2 style="color: black;">SECTION 5: LEGAL AGREEMENTS</h2>
      <p><strong>GIVING UP CERTAIN RIGHTS:</strong> I understand that by signing this Release Agreement, I am waiving
        certain legal rights, including the right to sue, that may arise from or result from participating in the
        event’s activities. This includes claims resulting from the negligence of the <strong>Releasees</strong>.</p>

      <p><strong>INDEMNIFICATION:</strong> I agree to indemnify and hold harmless the <strong>Releasees</strong> from
        any liability or claims, including for contribution and indemnity, arising from my participation in the event or
        harm to my dog.</p>

      <p><strong>BINDING AGREEMENT:</strong> This Release Agreement shall be effective and binding upon me, my heirs,
        executors, and assigns.</p>

      <p><strong>JURISDICTION:</strong> This Release Agreement and any rights, duties, and obligations as between the
        parties shall be governed and interpreted solely in accordance with the laws of Ontario, Canada.</p>

      <p><strong>SEVERABILITY:</strong> If any provision of this Agreement is deemed invalid, illegal, or unenforceable
        by a court of competent jurisdiction, the remaining provisions will remain valid and enforceable.</p>

      <p>By signing this Agreement, I acknowledge that I have not relied on any oral or written representations or
        statements made by the <strong>Releasees</strong> regarding the safety of the event other than those set forth
        in this Agreement.</p>



      <form class="form-container" onsubmit="myFunction(event)">
        <label for="dogName" style="display: block; margin-bottom: 10px; font-weight: bold; color: #555;">My Dog's
          Name:</label>
        <input type="text" id="dogName" name="dogName"
          style="box-sizing: border-box; width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 4px; border: 1px solid #ccc;"
          required>

        <label for="fullName" style="display: block; margin-bottom: 10px; font-weight: bold; color: #555;">Full
          Name:</label>
        <input type="text" id="fullName" name="fullName"
          style="box-sizing: border-box; width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 4px; border: 1px solid #ccc;"
          required>

        <label for="date" style="display: block; margin-bottom: 10px; font-weight: bold; color: #555;">Date:</label>
        <input type="date" id="date" name="date"
          style="box-sizing: border-box; width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 4px; border: 1px solid #ccc;"
          required>

        <label for="signature"
          style="display: block; margin-bottom: 10px; font-weight: bold; color: #555;">Signature:</label>
        <div id="preact-signature-pad-root" class="signature-pad"></div>
        <input type="hidden" name="signature" id="signature-field" />
        <script src="./dist/index.js"></script>

        <button type="submit" class="form-submit-button"
          style="box-sizing: border-box; width: 100%; background-color: rgb(132, 132, 194); color: white; padding: 14px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; margin-top: 1rem;">Submit</button>

        <div id="form-message" style="margin-top: 20px; font-size: 16px;"></div>
        <!-- Placeholder for success/error messages -->
      </form>
    </div>

    <script>
      // Get today's date
      const today = new Date().toISOString().split('T')[0];
      // Set the default value of the date input
      document.getElementById('date').value = today;

      function displayMessage(type, message) {
        const formMessage = document.getElementById('form-message');
        formMessage.style.color = type === 'success' ? 'green' : '#f48fa8';
        formMessage.textContent = message;
      }

      function myFunction(event) {
        event.preventDefault();
        const formSubmitButton = document.querySelector('.form-submit-button');
        displayMessage('info', 'Submitting form...'); // Display a loading message
        formSubmitButton.disabled = true;

        // Get form data
        var formData = new FormData();
        formData.append("dogName", document.getElementById("dogName").value);
        formData.append("fullName", document.getElementById("fullName").value);
        formData.append("date", document.getElementById("date").value);
        formData.append("signature", document.getElementById("signature-field").value);

        // Submit form data to Google Apps Script Web App
        fetch('https://script.google.com/macros/s/AKfycbysgJrG8vV7n08kgzT1FTAYMzf3O7lflJDsX492qAwCTMA47BTk6YLvjN-AUr8swweRZw/exec', {
          method: 'POST',
          mode: 'no-cors', // Dis-allow CORS requests
          body: formData
        })
          .then(response => {
            displayMessage('success', 'Form submitted successfully!');
            document.querySelector('form').reset();  // Clear the form after successful submission
            document.getElementById('date').value = today;
            formSubmitButton.disabled = false;

            // Access the shadow root and find the button
            const customElement = document.getElementById('preact-signature-pad-root');
            const shadowRoot = customElement.shadowRoot;

            // Get the canvas and its context
            const button = shadowRoot.querySelector('.signature-pad-button');
            button.click();
          })
          .catch(error => {
            console.error('Error:', error);
            displayMessage('error', `There was an error submitting the form: ${error.message}`);
            formSubmitButton.disabled = false;
          });
      }
    </script>


</body>

</html>